
# 🏭 工業大亨 (Industrial Oligarchs)
工業大亨 是一款基於網頁的多人回合制策略遊戲。玩家將扮演一位新興的工業巨頭，在變幻莫測的星際市場中，透過採集原料、加工高階產品、建設工廠以及精準的市場交易，目標成為擁有最高資產的商業霸主。

這是一個結合了 資源管理、供應鏈規劃 與 市場博弈 的模擬遊戲。

# 🎮 遊戲介紹 (Game Features)
遊戲分為四個循環階段，所有玩家同步進行：

## 1. 📰 新聞階段 (News Phase)
隨機事件：每天都會發生影響全宇宙的隨機事件（如：礦脈發現、戰爭爆發、科技突破），直接影響市場價格或生產效率。

政府收購：隨著遊戲進展（前期/中期/後期），政府會發布特定物品的高價收購案，這是賺取暴利的機會，但名額有限！

## 2. 🏭 行動階段 (Action Phase)
這是玩家進行內部管理的階段，您可以：

建設/升級：從 T0 採集器一路升級至 T3 高科技工廠。

生產/開採：將原料加工成高價值的零組件（需注意配方與庫存）。

拆除設施：支付清潔費拆除舊工廠，騰出土地空間轉型。

銀行回收：若急需現金，可將庫存以市價 85% 直接賣給銀行變現。

## 3. ⚖️ 交易階段 (Trading Phase)
掛單交易：採用「集合競價 (Call Auction)」機制。玩家提交「買單 (BID)」或「賣單 (ASK)」。

政府合約：若當回合有政府收購案，可在此階段提交投標單。

## 4. 💰 結算階段 (Settlement Phase)
系統根據所有玩家的買賣單，計算出唯一的「市場結算價」，撮合成交。

倉庫過於擁擠的玩家將面臨庫存罰款。

進入下一回合。

# 🛠️ 系統需求與技術棧
* `後端`：Python 3.8+ (使用 FastAPI 框架)

* `前端`：HTML5, CSS3, Vanilla JavaScript

* `通訊`：RESTful API / Polling

## 🚀 安裝與啟動教學 (Setup Guide)
請按照以下步驟在您的電腦上架設遊戲伺服器。

### 步驟 1：準備環境
確保您的電腦已安裝 Python。建議勾選 "Add Python to PATH"。

### 步驟 2：建立專案結構
在您的電腦上建立一個資料夾（例如 `industrial_game`），並建立以下檔案結構：

```text
industrial_game/
├── main.py                 # 主程式 (FastAPI)
├── config.py               # 遊戲設定檔 (物品、事件、合成表)
├── core/
│   ├── __init__.py         # (空檔案)
│   ├── engine.py           # 遊戲核心邏輯
│   └── models.py           # 資料模型 (Pydantic)
├── static/
│   ├── css/
│   │   ├── styles.css      # 玩家介面樣式
│   │   └── admin.css       # 管理員介面樣式
│   └── js/
│       ├── game.js         # 玩家端邏輯
│       └── admin.js        # 管理員端邏輯
└── templates/
    ├── player_ui.html      # 玩家 HTML
    └── admin_dashboard.html# 管理員 HTML
```

### 步驟 3：安裝依賴套件
打開終端機 (CMD 或 PowerShell)，進入專案資料夾，執行以下指令安裝必要的 Python 套件：
```bash
pip install fastapi uvicorn jinja2 pydantic
```

### 步驟 4：填入程式碼
將您目前擁有的程式碼分別複製到對應的檔案中。
(確保 main.py, config.py, core/.py, static/, templates/ 的內容都是最新的版本)*

### 步驟 5：啟動伺服器
在終端機中執行以下指令來啟動遊戲：
```bash
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

`--reload: 當您修改程式碼時自動重啟伺服器（開發用）。`

`--host 0.0.0.0: 允許同一區域網路 (Wi-Fi) 下的其他裝置連線。`

### 步驟 6：開始遊戲！
#### 👨‍💼 玩家端 (Player):

* 本機遊玩：打開瀏覽器訪問 `http://localhost:8000`

* 多人遊玩：其他電腦/手機連接同一 Wi-Fi，訪問 `http://[您的電腦IP]:8000 (例如 http://192.168.1.100:8000)`

#### 🕵️‍♂️ 管理員端 (Admin):

打開瀏覽器訪問 `http://localhost:8000/admin`

您將看到中央控制台，可以監控所有玩家狀態、查看日誌，並控制遊戲推進。

# 🕹️ 管理員操作指南
遊戲不會自動推進階段，需要由「管理員 (Host)」手動控制節奏。這讓玩家有足夠的時間討論策略。

等待玩家加入：在 Phase 1 等待所有玩家註冊完畢。

推進階段：點擊控制台的 `>>> 進入下一階段 >>>` 按鈕。

`Phase 1 -> 2 (玩家開始生產/建設)`

`Phase 2 -> 3 (玩家開始掛單交易)`

`Phase 3 -> 4 (系統結算價格與訂單)`

`Phase 4 -> 1 (進入新的一天，刷新事件)`

重置遊戲：若要重新開始，點擊 ☠️ 重置遊戲，所有玩家資料將被清空。